<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="templates/mainTemplate">
<head>

    <title>Iniciar Sesi&oacute;n</title>

    <!--Jquery Validation-->
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-validation/dist/jquery.validate.min.js'}"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-validation/dist/additional-methods.min.js'}"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com"/>
    <link th:href="@{https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100;400}" rel="stylesheet"/>

    <style>

        body, .login-page .hero-content{
            font-family: 'Fira Sans', sans-serif !important;
        }

        .container-login{
            max-width: 500px;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
            padding: 3rem 2rem;
            background-color: white;
            border-radius: 10px;
        }

        .container-login .actions button{
            width: 100%;
        }

        .container-login input, .container-login .actions button{
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .container-login input{
            border: 1px solid #e6dfdf;
            width: 100%;
            color: black !important;

        }

        .img-container-login img{
            max-width: 200px;
            margin-top: 3rem;
            margin-left: 2rem;
        }

        .poweredBySolvenFirma{
            max-width: 200px;
            margin-top: auto;
            margin-left: auto;
            margin-right: 2rem;
            position: absolute;
            right: 0.85rem;
            bottom: 2rem;
        }

        input[type="checkbox"]:checked + label::after, input[type="checkbox"]:checked + label::after {
            color: #FFF;
            content: "L";
            display: block;
            font-size: 12px;
            font-weight: bold;
            left: 5px;
            position: absolute;
            top: 0;
            transform: scaleX(-1) rotate(-45deg);
        }

        input[type="checkbox"]:checked + label::before, .c-full input[type="checkbox"]:checked + label::before {
            border-color: var(--loading-page-color);
            background-color: white !important;
        }

        input::placeholder {
            /*background-color: #e6e6e6;*/
            border: #f8f8f8;
            color: gray !important;
        }
        .styled-checkbox {
            position: absolute;
            opacity: 0;
        }
        .styled-checkbox + label {
            position: relative;
            cursor: pointer;
            padding: 0;
        }
        .styled-checkbox + label:before {
            content: "";
            margin-right: 5px;
            display: inline-block;
            vertical-align: text-top;
            width: 16px;
            height: 16px;
            background: white;
            border: 1px solid var(--loading-page-color);
            border-radius: 3px;
            margin-top: 2px;
        }
        .styled-checkbox:hover + label:before {
            background: white;
        }
        .styled-checkbox:focus + label:before {
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.12);
        }
        .styled-checkbox:checked + label:before {
            background: white;
        }
        .styled-checkbox:disabled + label {
            color: #b8b8b8;
            cursor: auto;
        }
        .styled-checkbox:checked + label:after {
            content: "";
            position: absolute;
            left: 3px !important;
            top: 50% !important;
            transform: rotate(30deg) !important;
            background: var(--loading-page-color);
            width: 2px;
            height: 2px;
            box-shadow: 2px 0 0 var(--loading-page-color), 4px 0 0 var(--loading-page-color), 4px -2px 0 var(--loading-page-color), 4px -4px 0 var(--loading-page-color), 4px -6px 0 var(--loading-page-color), 4px -8px 0 var(--loading-page-color);
        }


    </style>
    <script th:inline="javascript">
        /*<![CDATA[*/

        system.unloadAlert = false;

        $(document).on('ready', function () {
            var initialMessage = /*[[${initialMessage}]]*/;
            if(initialMessage != null){
                swal({title: "", text: initialMessage, timer: 5000});
            }

            $('#loginButton').click(function (evt) {
                evt.preventDefault();
                $(this).loading('', 2);
                defaultAjax({
                    url: /*[[@{/login}]]*/null,
                    type: 'POST',
                    data: $('#loginForm').serializeObject(),
                    success: function (data) {
                        $('#loginButton').unloading();
                    },
                    error: function() {
                        $('#loginButton').unloading();
                    }
                });
            });

            $('#inputEmailReset').keyup(function (event) {
                if(event.which == 13) {
                    event.preventDefault();
                    $('#resetButton').click();
                }
            });

            $('#resetButton').click(function (evt) {
                evt.preventDefault();
                $(this).loading('', 2);
                defaultAjax({
                    url: /*[[@{/extranetEntityResetPassword}]]*/null,
                    type: 'POST',
                    data: $('#resetForm').serializeObject(),
                    success: function (data) {
                        $('#resetButton').unloading();
                        $('#loginForm').fadeIn( "slow" );
                        $('#reset').fadeOut( "slow" );
                        swal("¡Enhorabuena!", "Las instrucciones para resetear el password han sido enviadas a tu email.", "success");
                        $('#inputEmailReset').val('');
                    },
                    error: function() {
                        $('#resetButton').unloading();
                    }
                });
            });
        });

        function showResetPassword(){
            $('#loginForm').fadeOut( "slow" );
            $('#reset').fadeIn( "slow" );
        }

        function back(){
            $('#loginForm').fadeIn( "slow" );
            $('#reset').fadeOut( "slow" );
        }
        /*]]>*/
    </script>

</head>
<body>

<th:block layout:fragment="content">
    <section class="login-page">
        <h1 class="img-container-login">
            <th:block>
                <a th:href="@{/}">
                    <i class="icon">
                        <img class="login-logo-extranet" src="https://solven-public.s3.amazonaws.com/img/solven_rojo.png" alt=""/>
                    </i>
                    <img class="custom-logo-img" src="" alt="" style="display: none"/>
                    <span class="hidden">Solven</span>
                </a>
            </th:block>
        </h1>

        <div class="hero-content">
            <div class="container-login" >
                <h2 style="font-weight: unset;margin-bottom: 2.5rem;">Bienvenido</h2>
                <div id="reset" style="display: none;" class="login-username">
                    <form action="#" id="resetForm" autocomplete="off">
                        <div class="field">
                            <input type="text" id="inputEmailReset" name="email" class="input-landing" placeholder="Correo electr&oacute;nico"/>
                        </div>
                        <div class="actions">
                            <button id="resetButton" type="button" class="button bg-red">Enviar Contraseña</button>
                        </div>
                        <div class="field">
                            <a href="javascript:back()" style="font-weight: unset;">&larr; Volver</a>
                        </div>
                    </form>
                </div>
                <div class="login-username">
                    <form action="#" id="loginForm" autocomplete="off">
                        <div class="field">
                            <input type="text" id="exampleInputEmail22" name="email" class="input-landing" placeholder="Correo electr&oacute;nico"/>
                        </div>
                        <div class="field">
                            <input autocorrect="off" autocapitalize="none" type="password" id="exampleInputPassword42" name="password" class="input-landing" placeholder="Contrase&ntilde;a" autocomplete="off"/>
                        </div>
                        <div class="actions">
                            <button id="loginButton" class="button bg-red" style="position: relative">Ingresar <i style="position: absolute;right: 10px;font-size: 24px;">→</i></button>
                        </div>
                        <div style="display: flex;justify-content: space-between;margin-top: 10px;">
                            <div style="position: relative;max-width: 50%;text-align: start;padding-left: 3px">
                                <input class="styled-checkbox" id="styled-checkbox-1" type="checkbox"/>
                                <label for="styled-checkbox-1" style="font-weight: unset;">Registrar usuario</label>
                            </div>
                            <a href="javascript:showResetPassword();" style="font-weight: unset;">¿Olvidaste tu contraseña?</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <th:block th:if="${@brandingService.isBranded(#httpServletRequest)}">
            <div class="poweredBySolvenFirma">
                <svg class="poweredBySolven" viewBox="0 0 128 20" style="fill: white;">
                    <path
                            d="M2.7 5.3c.6 0 1 .1 1.5.2.4.1.7.3 1 .6.3.2.5.5.6.8.1.3.2.7.2 1 0 .4-.1.8-.2 1.1-.1.4-.3.7-.6.9-.3.2-.6.4-1 .6-.4.1-.9.2-1.4.2H1.6v3H0V5.3h2.7zm0 4.2c.3 0 .5 0 .7-.1.3-.1.5-.2.6-.3.1-.1.2-.3.3-.5.1-.2.1-.4.1-.6 0-.2 0-.4-.1-.6S4.2 7 4 6.9c-.1-.2-.3-.3-.5-.3-.2-.1-.5-.1-.8-.1H1.6v3h1.1zM9.3 7.6c.4 0 .8.1 1.2.2.4.1.7.3.9.6.3.3.5.6.6 1 .1.4.2.8.2 1.3s-.1.9-.2 1.3-.3.7-.6 1c-.3.3-.6.5-.9.6-.4.1-.8.2-1.2.2-.4 0-.9-.1-1.2-.2-.4-.1-.7-.3-.9-.6-.3-.3-.5-.6-.6-1-.1-.4-.2-.8-.2-1.3s.1-.9.2-1.3.3-.7.6-1c.2-.2.5-.4.9-.6.4-.1.8-.2 1.2-.2zm0 5c.5 0 .9-.2 1.1-.5.2-.3.4-.8.4-1.5 0-.6-.1-1.1-.4-1.5-.2-.3-.6-.5-1.1-.5-.5 0-.9.2-1.1.5-.2.5-.4.9-.4 1.6s.1 1.1.4 1.5c.3.3.6.4 1.1.4zM21.8 7.7l-1.9 6h-1.1c-.1 0-.2-.1-.3-.3L17.4 10c0-.1-.1-.2-.1-.3 0-.1-.1-.2-.1-.3 0 .1 0 .2-.1.4 0 .1-.1.2-.1.4l-1 3.2c0 .2-.1.3-.3.3h-1.1l-1.9-6h1.1c.1 0 .2 0 .3.1.1.1.1.1.1.2l.9 3.2c0 .2.1.3.1.5s.1.3.1.5c0-.2.1-.3.1-.5s.1-.3.2-.5l1-3.2c0-.1.1-.1.1-.2.1-.1.1-.1.2-.1h.6c.1 0 .2 0 .3.1l.2.2 1 3.2c.1.2.1.3.1.5s.1.3.1.5c0-.3.1-.7.2-1l.9-3.2c0-.1.1-.1.1-.2.1-.1.2-.1.2-.1h1.2zM23.6 10.9c0 .3.1.6.2.8l.3.6c.1.1.3.3.5.3.2.1.4.1.6.1s.4 0 .6-.1c.2-.1.3-.1.4-.2.1-.1.2-.1.3-.2.1-.1.2-.1.3-.1.1 0 .2 0 .3.1l.4.5-.5.5-.6.3c-.2.1-.4.1-.7.2h-.6c-.4 0-.8-.1-1.2-.2-.4-.1-.7-.3-.9-.6-.3-.3-.5-.6-.6-1-.2-.4-.2-.9-.2-1.4 0-.4.1-.8.2-1.1.1-.4.3-.7.6-.9.2-.3.5-.5.9-.6s.8-.2 1.2-.2c.4 0 .7.1 1 .2.3.1.6.3.8.5.2.2.4.5.5.8.1.3.2.7.2 1.1 0 .2 0 .4-.1.4 0 .1-.1.1-.3.1h-3.6zm2.7-.9c0-.2 0-.4-.1-.5 0-.2-.1-.3-.2-.5-.1-.1-.2-.2-.4-.3-.2-.1-.3-.1-.6-.1-.4 0-.7.1-1 .4-.2.2-.4.6-.5 1h2.8zM30 8.7c.2-.4.4-.6.7-.8s.6-.3.9-.3c.3 0 .5.1.7.2l-.1 1.1c0 .1 0 .1-.1.1h-.7c-.2 0-.3 0-.4.1-.1 0-.2.1-.3.2l-.3.3c-.1.1-.1.3-.2.4v3.7h-1.4v-6h.8c.1 0 .3 0 .3.1s.1.1.1.3v.6zM34 10.9c0 .3.1.6.2.8l.3.6c.1.1.3.3.5.3.2.1.4.1.6.1.2 0 .4 0 .6-.1.2-.1.3-.1.4-.2.1-.1.2-.1.3-.2.1-.1.2-.1.3-.1.1 0 .2 0 .3.1l.4.5-.5.5-.6.3c-.2.1-.4.1-.7.2h-.6c-.4 0-.8-.1-1.2-.2-.4-.1-.7-.3-.9-.6-.3-.3-.5-.6-.6-1-.2-.4-.2-.9-.2-1.4 0-.4.1-.8.2-1.1.1-.4.3-.7.6-.9.2-.3.5-.5.9-.6s.8-.2 1.2-.2c.4 0 .7.1 1 .2.3.1.6.3.8.5.2.2.4.5.5.8.1.3.2.7.2 1.1 0 .2 0 .4-.1.4 0 .1-.1.1-.3.1H34zm2.7-.9c0-.2 0-.4-.1-.5-.1-.2-.1-.3-.2-.4-.1-.1-.2-.2-.4-.3-.2-.1-.3-.1-.6-.1-.4 0-.7.1-1 .4-.2.2-.4.6-.5 1h2.8zM44.2 5v8.6h-.9c-.2 0-.3-.1-.4-.3l-.1-.6c-.2.3-.5.5-.8.7-.3.2-.7.3-1.1.3-.3 0-.6-.1-.9-.2-.3-.1-.5-.3-.7-.6-.2-.3-.3-.6-.5-1-.1-.4-.2-.8-.2-1.3 0-.4.1-.9.2-1.2.1-.4.3-.7.5-1 .2-.3.5-.5.8-.7.3-.2.7-.2 1.1-.2.3 0 .6.1.9.2.2.1.4.2.6.4V5h1.5zm-1.4 4.2c-.2-.2-.3-.3-.5-.4-.2-.1-.4-.1-.6-.1-.2 0-.4 0-.6.1-.2.1-.3.2-.4.4l-.3.6c-.1.3-.1.6-.1.9 0 .3 0 .6.1.9.1.2.1.4.2.6.1.2.2.3.4.3.2.1.3.1.5.1.3 0 .6-.1.8-.2.2-.1.4-.3.6-.5V9.2zM49.9 8.4c.2-.3.5-.5.8-.6.3-.1.6-.2 1-.2.3 0 .7.1.9.2.3.1.5.3.7.6.2.3.3.6.5.9.1.4.2.8.2 1.2 0 .5-.1.9-.2 1.3s-.3.7-.5 1c-.2.3-.5.5-.8.7s-.7.2-1 .2c-.2 0-.4 0-.5-.1-.2 0-.3-.1-.4-.2-.1-.1-.2-.1-.4-.2l-.3-.3-.1.4c0 .1-.1.2-.1.2-.1 0-.1.1-.2.1h-.9V5H50v3.4zm0 3.7c.2.2.3.3.5.4.2.1.4.1.6.1.2 0 .4 0 .6-.1.2-.1.3-.2.5-.4l.3-.6c.1-.2.1-.6.1-.9 0-.7-.1-1.1-.3-1.4-.2-.3-.5-.4-.9-.4-.3 0-.5.1-.7.2-.2.1-.4.3-.6.5v2.6zM60.3 7.7l-3.2 7.6c0 .1-.1.2-.2.2-.1.1-.2.1-.3.1h-1.1l1.1-2.4-2.4-5.5h1.3c.1 0 .2 0 .3.1.1.1.1.1.1.2l1.3 3.1c0 .1.1.2.1.3 0 .1.1.2.1.3 0-.1.1-.2.1-.3 0-.1.1-.2.1-.3L58.8 8c0-.1.1-.1.2-.2s.2-.1.2-.1h1.1z"
                            class="st2" />
                    <g>
                        <path
                                d="M63.6 19.3v-2.7c.9.4 2.3.7 3.5.7 1.3 0 1.8-.4 1.8-1 0-.8-1.1-.9-2.6-1.4-1.5-.5-2.8-1.5-2.8-3.6 0-2.6 2-3.7 4.8-3.7 1.2 0 2.5.2 3.2.5v2.7c-.8-.2-1.8-.5-3-.5-1.1 0-1.6.3-1.6.8 0 .6.5.8 2.1 1.2 1.7.5 3.3 1.4 3.3 3.8 0 2.5-1.9 3.9-4.8 3.9-1.7 0-3-.3-3.9-.7M73.1 13.8c0-3.2 1.9-6.2 6-6.2 4 0 5.9 2.7 5.9 6.2 0 3.2-1.9 6.2-6 6.2-4 0-5.9-2.7-5.9-6.2m8.1 0c0-2.1-.6-3.5-2.1-3.5S77 11.6 77 13.8s.6 3.4 2.1 3.4 2.1-1.2 2.1-3.4M91.4 0H95l-7.3 20h-3.6zM92.9 7.8h3.9l1.7 6.4c.2.7.4 1.9.4 2 0-.2.3-1.4.4-2l1.7-6.4h3.8l-3.9 12h-4.2l-3.8-12zM104.7 13.8c0-3.3 1.9-6.2 5.8-6.2 4 0 5.3 2.7 5.3 5.7 0 .4 0 .8-.1 1.2h-7.2c0 1.7.7 2.7 2.8 2.7 1.5 0 2.8-.3 3.6-.7v2.8c-1.1.4-2.4.7-3.9.7-4.4 0-6.3-2.6-6.3-6.2m7.5-1.4v-.1c0-1-.5-2-1.7-2s-1.8.9-1.9 2.1h3.6zM117.1 7.8h3.6v.9c.7-.5 1.7-1.1 3.3-1.1 2.9 0 3.9 1.8 3.9 4.2v8h-3.7v-7.4c0-1.3-.4-1.9-1.7-1.9-.7 0-1.3.3-1.8.7v8.6H117v-12zM89.9 17.8c0-1.2.9-2.1 2.2-2.1 1.3 0 2.2.9 2.2 2.1s-.8 2.2-2.1 2.2-2.3-1-2.3-2.2"
                                class="st2" />
                    </g>
                </svg>
            </div>
        </th:block>

    </section>
</th:block>

<th:block layout:fragment="footer">
    <th:block th:replace="fragments/footers :: footerDefault"></th:block>
</th:block>

</body>
</html>