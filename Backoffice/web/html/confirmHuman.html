<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>

    <!--[if lt IE 9]>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/plugins/respond.min.js'}"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/plugins/excanvas.min.js'}"></script>
    <![endif]-->

    <script th:inline="javascript">
        /*<![CDATA[*/
        // Variable globales
        var system = {
            contextPath : /*[[ ${#httpServletRequest.getContextPath()} ]]*/,
            unloadAlert: false
        };

        window.addEventListener("beforeunload", function (e) {
            if (system.unloadAlert) {
                var confirmationMessage = '¿Est&aacute;s seguro que deseas salir de la página?';
                (e || window.event).returnValue = confirmationMessage; //Gecko + IE
                return confirmationMessage; //Gecko + Webkit, Safari, Chrome etc.
            }
        });
        /*]]>*/
    </script>

    <!-- BEGIN GLOBAL MANDATORY RESOURCES -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all" rel="stylesheet"
          type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery/jquery.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/numeric/jquery.numeric.min.js'}" type="text/javascript"></script>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/font-awesome/css/font-awesome.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/simple-line-icons/simple-line-icons.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap/css/bootstrap.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap/js/bootstrap.min.js'}" type="text/javascript"></script>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-switch/css/bootstrap-switch.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-switch/js/bootstrap-switch.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/js-cookie/js.cookie.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-slimscroll/jquery.slimscroll.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/blockUI/jquery.blockui.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootbox/bootbox.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-toastr/toastr.min.js'}" type="text/javascript"></script>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-toastr/toastr.min.css'}" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY RESOURCES -->
    <!-- BEGIN THEME GLOBAL RESOURCES -->
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/css/components-md.min.css'}" rel="stylesheet" id="style_components"
          type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/css/plugins-md.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/scripts/app.min.js'}" type="text/javascript"></script>
    <!-- END THEME GLOBAL RESOURCES -->
    <!-- BEGIN THEME LAYOUT RESOURCES -->
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/layout3/css/layout.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/layout3/css/themes/red-sunglo.min.css'}" rel="stylesheet" type="text/css"
          id="style_color"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/layout3/css/custom.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/layout3/scripts/layout.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/layout3/scripts/demo.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/layouts/global/scripts/quick-sidebar.min.js'}" type="text/javascript"></script>
    <!-- END THEME LAYOUT RESOURCES -->
    <!-- BEGIN OWN STYLES -->
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/sweetalert/sweetalert.min.js'}"></script>
    <link rel="stylesheet" type="text/css" th:href="${@urlService.externalUrl(#httpServletRequest) + '/sweetalert/sweetalert.css'}"/>
    <link th:href="@{/css/metronic_custom.css}" rel="stylesheet" type="text/css"/>
    <link th:href="@{/css/backoffice.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/js/util.js}" type="text/javascript"/>

    <!-- reCaptcha -->
    <script src="https://www.google.com/recaptcha/api.js"></script>

    <script th:inline="javascript">
        /*<![CDATA[*/
        function onSuccessfulCaptcha(response) {
            debugger;
            defaultAjax({
                url: /*[[@{/checkSuccess}]]*/,
                type: 'POST',
                data: {
                    "g-recaptcha-response": document.querySelector('.g-recaptcha-response').value
                }
            });
        }
        /*]]>*/
    </script>

    <style>
        @media screen and (max-height: 575px) {
            #rc-imageselect, .g-recaptcha {
                transform: scale(0.77);
                -webkit-transform: scale(0.77);
                transform-origin: 0 0;
                -webkit-transform-origin: 0 0;
            }
        }
    </style>


</head>

<body>

<th:block layout:fragment="content">
    <form name="reForm" th:action="@{/checkSuccess}" method="POST">
        <div class="g-recaptcha" th:attr="data-sitekey=${@configuration.recaptchaPublicKey()}" data-callback="onSuccessfulCaptcha"></div>
        <br/>
    </form>
</th:block>

</body>
</html>