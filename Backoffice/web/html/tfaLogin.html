<!DOCTYPE html>
<!--[if IE 8]>
<html class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta charset="ISO-8859-1"/>
    <title>Solven | Login</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>

    <link rel="icon" type="image/png" th:href="@{/img/favicon.png}" />

    <!--[if lt IE 9]>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/plugins/respond.min.js'}"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/plugins/excanvas.min.js'}"></script>
    <![endif]-->

    <!-- BEGIN GLOBAL MANDATORY RESOURCES -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&amp;subset=all" rel="stylesheet"
          type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery/jquery.min.js'}" type="text/javascript"></script>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/font-awesome/css/font-awesome.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/simple-line-icons/simple-line-icons.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap/css/bootstrap.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap/js/bootstrap.min.js'}" type="text/javascript"></script>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-switch/css/bootstrap-switch.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/bootstrap-switch/js/bootstrap-switch.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/js-cookie/js.cookie.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-slimscroll/jquery.slimscroll.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/blockUI/jquery.blockui.min.js'}" type="text/javascript"></script>
    <!-- END GLOBAL MANDATORY RESOURCES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/select2/css/select2.min.css'}" rel="stylesheet" type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/select2/css/select2-bootstrap.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-validation/dist/jquery.validate.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/jquery-validation/dist/additional-methods.min.js'}" type="text/javascript"></script>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/select2/js/select2.full.min.js'}" type="text/javascript"></script>
    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL RESOURCES -->
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/css/components-md.min.css'}" rel="stylesheet" id="style_components"
          type="text/css"/>
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/css/plugins-md.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/global/scripts/app.min.js'}" type="text/javascript"></script>
    <!-- END THEME GLOBAL RESOURCES -->
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/sweetalert/sweetalert.min.js'}"></script>
    <link rel="stylesheet" type="text/css" th:href="${@urlService.externalUrl(#httpServletRequest) + '/sweetalert/sweetalert.css'}"/>
    <!-- BEGIN THEME LAYOUT RESOURCES -->
    <!-- END THEME LAYOUT RESOURCES -->
    <!-- BEGIN PAGE LEVEL RESOURCES -->
    <link th:href="${@urlService.externalUrl(#httpServletRequest) + '/metronic/pages/css/login.min.css'}" rel="stylesheet" type="text/css"/>
    <script th:src="${@urlService.externalUrl(#httpServletRequest) + '/metronic/pages/scripts/login.min.js'}" type="text/javascript"></script>
    <!-- END PAGE LEVEL RESOURCES -->
    <!-- BEGIN OWN STYLES -->
    <link th:href="@{/css/metronic_custom.css}" rel="stylesheet" type="text/css"/>
    <script th:src="@{/js/util.js}" type="text/javascript"/>
    <th:block layout:fragment="head"/>
    <!-- END OWN STYLES -->

    <!--<link rel="shortcut icon" href="favicon.ico"/>-->
    <script th:inline="javascript">
        /*<![CDATA[*/

        $(document).on('ready', function () {
            $('#loginButton').click(function (evt) {
                evt.preventDefault();
                $(this).loading('', 2);
                defaultAjax({
                    url: /*[[@{/loginStep2}]]*/null,
                    type: 'POST',
                    data: $('#loginForm').serializeObject(),
                    showLoading : false,
                    success: function (data) {
                        $('#loginButton').unloading();
                    },
                    error: function() {
                        $('#loginButton').unloading();
                    }
                });
            });

            $('#token').keypress(function(e) {
                if (e.keyCode == 13) {
                    if ($('#token').validate().form()) {
                        $('#loginButton').click();
                    }
                    return false;
                }
            });

            $('#backButton').click(function (evt) {
                //var url = window.location.host + "/backoffice/login";
                defaultAjax({
                    url: /*[[@{/logout}]]*/null,
                    type: 'POST',
                    showLoading : false,
                });
            });
        });
        /*]]>*/
    </script>
</head>
<!-- END HEAD -->

<body class="login">
<script th:inline="javascript">
    /*<![CDATA[*/
    $(document).ready(function () {
        var m = /*[[${message}]]*/null;
        if (m != null)
            alert(m);
    });
    /*]]>*/
</script>
<!-- BEGIN LOGO -->
<div class="logo">
    <a href="index.html">
        <img th:src="@{/img/logo.png}" alt=""/> </a>
</div>
<!-- END LOGO -->
<!-- BEGIN LOGIN -->
<div class="content">
    <!-- BEGIN LOGIN FORM -->
    <form id="loginForm" autocomplete="off">
        <h3 class="form-title font-green" th:text="${username}"></h3>
        <div class="alert alert-danger display-hide">
            <button class="close" data-close="alert"></button>
            <span> Ingrese su clave temporal. </span>
        </div>
        <div class="form-group">
            <label class="control-label visible-ie8 visible-ie9">Clave temporal</label>
            <input class="form-control form-control-solid placeholder-no-fix" type="text" autocomplete="off"
                   placeholder="Token" required="required" id="token" name="token"/></div>
        <div class="form-group">
            <button type="submit" id ="loginButton" class="btn red uppercase">Ingresar</button>
            <button type="button" id ="backButton" class="btn red uppercase">Volver</button>
        </div>
    </form>
</div>
<div class="copyright"><span th:text="#{static.landing.info.footer(${currentYear})}"></span></div>
</body>
</html>